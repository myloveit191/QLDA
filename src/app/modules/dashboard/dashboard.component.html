<div class="content-box" fxLayoutAlign="start" fxLayout="row" fxLayoutGap="1rem">
  <div fxFlex="25">
    <mat-card>
      <mat-card-title-group>
        <mat-card-title class="text-warning">30</mat-card-title>
        <mat-icon fontSet="material-icons-outlined" class="text-warning">visibility</mat-icon>
      </mat-card-title-group>
      <mat-card-header>
        <!-- <mat-icon>visibility</mat-icon> -->
      </mat-card-header>
      <mat-card-content>
        Công việc hết hạn hôm nay
      </mat-card-content>
    </mat-card>
  </div>
  <div fxFlex="25">
    <mat-card>
      <mat-card-title-group>
        <mat-card-title class="text-success">18</mat-card-title>
        <mat-icon fontSet="material-icons-outlined" class="text-success">done_all</mat-icon>
      </mat-card-title-group>
      <mat-card-content>
        Dự án đang đã hoàn thành
      </mat-card-content>
    </mat-card>
  </div>
</div>
<div class="content-box" fxLayoutAlign="start" fxLayout="row" fxLayoutGap="1rem">
  <div fxFlex="33">
    <mat-card class="card-border">
      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
        <mat-icon fontSet="material-icons-outlined" class="mat-icon-xl">apartment</mat-icon>
        <div>
          <mat-card-title-group>
            <mat-card-title class="font-size-default">Thêm dự án</mat-card-title>
            <mat-card-subtitle>Tạo một dự án mới cùng với những công việc
              cần có</mat-card-subtitle>
          </mat-card-title-group>
          <button mat-raised-button color="primary">Tạo mới</button>
        </div>
      </div>
    </mat-card>
  </div>
  <div fxFlex="33">
    <mat-card class="card-border">
      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
        <mat-icon fontSet="material-icons-outlined" class="mat-icon-xl">person</mat-icon>
        <div>
          <mat-card-title-group>
            <mat-card-title class="font-size-default">Thêm người dùng</mat-card-title>
            <mat-card-subtitle>Thêm một người dùng vào một dự án mà bạn
              mong muốn</mat-card-subtitle>
          </mat-card-title-group>
          <button mat-raised-button color="primary">Thêm</button>
        </div>
      </div>
    </mat-card>
  </div>
  <div fxFlex="33">
    <mat-card class="card-border">
      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
        <mat-icon fontSet="material-icons-outlined" class="mat-icon-xl">event_note</mat-icon>
        <div>
          <mat-card-title-group>
            <mat-card-title class="font-size-default">Thêm công việc</mat-card-title>
            <mat-card-subtitle>
              Thêm một công việc từ dự án đã thêm vào trước đó
              có trong hệ thống </mat-card-subtitle>
          </mat-card-title-group>
          <button mat-raised-button color="primary">Thêm</button>
        </div>
      </div>
    </mat-card>
  </div>
</div>
<div class="content-box" fxLayoutAlign="start" fxLayout="row" fxLayoutGap="1rem">
  <!-- <div fxFlex="25">
    <mat-card>
      <mat-card-title class=" text-center">Tổng tiến độ dự án</mat-card-title>
      <div fxLayout="row" fxLayoutAlign="center center">
        <div fxFlex="60" style="margin-bottom: 1rem;">
          <canvas baseChart [data]="doughnutChartData" [type]="doughnutChartType">
          </canvas>
        </div>
      </div>
      <table class="vn-mb-1" mat-table [dataSource]="dataSet">

        <ng-container matColumnDef="color">

          <td mat-cell *matCellDef="let element"> <span class="stick" [style.background]="element.color"></span>
          </td>
        </ng-container>

        <ng-container matColumnDef="label">

          <td mat-cell *matCellDef="let element"> {{element.label}} </td>
        </ng-container>

        <ng-container matColumnDef="value">

          <td mat-cell *matCellDef="let element"> {{element.value}} </td>
        </ng-container>

        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <div class="text-center" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px">
        <span class="material-icons-outlined mat-icon-m">
          file_download
        </span>
        <span style="font-size: 20px;">
          Tải báo cáo</span>
      </div>
    </mat-card>
  </div> -->
  <div fxFlex="40">
    <mat-accordion>
      <mat-expansion-panel [expanded]="true" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header expandedHeight="48px">
          <mat-panel-title>
            <span class="material-icons-outlined">
              bookmark_border
            </span>
          </mat-panel-title>
          <mat-panel-description>
            Danh sách dự án
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="qlda-tree">
          <!-- This is the tree node template for leaf nodes -->
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding (click)="showInfo(node)">
            <!-- use a disabled button to provide padding for tree leaf -->
            <!-- <button mat-icon-button s></button> -->
            <span class="pointer">{{node.name}}</span>
          </mat-tree-node>
          <!-- This is the tree node template for expandable nodes -->
          <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding>
            <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name"
              (click)="showInfo(node)">
              <mat-icon class="mat-icon-rtl-mirror">
                {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
              </mat-icon>
            </button>
            <span (click)="showInfo(node)" class="pointer">{{node.name}}</span>
          </mat-tree-node>
        </mat-tree>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <div fxFlex="60">
    <mat-expansion-panel expanded="true" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header expandedHeight="48px">
        <mat-panel-title>
          <span class="material-icons-outlined">
            bookmark_border
          </span>
        </mat-panel-title>
        <mat-panel-description>
          Thông tin dự án
        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-tab-group animationDuration="0ms">
        <mat-tab label="Thông tin chính">
          <form (ngSubmit)="onSubmit()" [formGroup]="projectForm">
            <div *ngIf="project.code" class="vn-mb-1 vn-mt-1">
              <label>Mã dự án: {{project.code}}</label>
            </div>
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Tên dự án</mat-label>
              <input matInput placeholder="Placeholder" formControlName="name">
            </mat-form-field>
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Bắt đầu</mat-label>
              <input matInput [matDatepicker]="begin_picker" formControlName="begin_at">
              <mat-hint>DD/MM/YYYY</mat-hint>
              <mat-datepicker-toggle matSuffix [for]="begin_picker"></mat-datepicker-toggle>
              <mat-datepicker #begin_picker></mat-datepicker>
            </mat-form-field>
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Kết thúc</mat-label>
              <input matInput [matDatepicker]="end_picker" formControlName="end_at">
              <mat-hint>DD/MM/YYYY</mat-hint>
              <mat-datepicker-toggle matSuffix [for]="end_picker"></mat-datepicker-toggle>
              <mat-datepicker #end_picker></mat-datepicker>
            </mat-form-field>
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Chủ đầu tư</mat-label>
              <input matInput placeholder="Placeholder" formControlName="investor">
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
              <mat-label>Mô tả dự án</mat-label>
              <textarea matInput formControlName="des" [rows]="6"></textarea>
            </mat-form-field>
            <button type="submit" mat-flat-button color="primary">Lưu thông tin</button>

          </form>

        </mat-tab>
        <mat-tab label="Thông tin khác">
          <div>
            <label>Ngày tạo: {{project.create_at.format('DD/MM/YYYY')}}</label>
          </div>
          <div>
            <label>Người tạo: {{project.create_by}}</label>
          </div>
        </mat-tab>
        <mat-tab label="Tài liệu liên quan">
          <mat-selection-list #docs [multiple]="false">
            <mat-list-option *ngFor="let doc of project.doc" [value]="doc">
              {{doc.name}}
            </mat-list-option>
          </mat-selection-list>
        </mat-tab>
      </mat-tab-group>
    </mat-expansion-panel>
  </div>
</div>
